!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(o(4));class i extends HTMLElement{constructor(){super(),this.isBoldToggled=!1;const t=this.attachShadow({mode:"open"}),e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/icon?family=Material+Icons",t.appendChild(e);const o=document.createElement("style");o.type="text/css",o.appendChild(document.createTextNode(r.default)),t.appendChild(o);const n=this.createIconButton("bold-btn","format_bold",t=>{this.btnClicked(i.BOLD_CLICKED_EVENT,t)}),s=this.createIconButton("italic-btn","format_italic",t=>{this.btnClicked(i.ITALIC_CLICKED_EVENT,t)}),a=this.createIconButton("underline-btn","format_underline",t=>{this.btnClicked(i.UNDERLINE_CLICKED_EVENT,t)}),d=this.createIconButton("strikethrough-btn","strikethrough_s",t=>{this.btnClicked(i.STRIKETHROUGH_CLICKED_EVENT,t)});this.common={boldButton:n,italicButton:s,underlineButton:a,strikethroughButton:d},t.appendChild(n),t.appendChild(s),t.appendChild(a),t.appendChild(d)}createIconButton(t,e,o=(()=>{})){const n=document.createElement("button");return n.id=t,n.classList.add("toolbar-btn","material-icons"),n.textContent=e,n.onmousedown=o,n}btnClicked(t,e){this.dispatchEvent(new CustomEvent(t,{bubbles:!0})),e.preventDefault()}}e.default=i,i.BOLD_CLICKED_EVENT="bold-clicked",i.ITALIC_CLICKED_EVENT="italic-clicked",i.UNDERLINE_CLICKED_EVENT="underline-clicked",i.STRIKETHROUGH_CLICKED_EVENT="strikethrough-clicked"},function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(o(2)),i=n(o(0));customElements.define("zen-editor",r.default),customElements.define("zen-toolbar",i.default);const s=document.createElement("link");s.rel="stylesheet",s.href="https://fonts.googleapis.com/icon?family=Material+Icons",document.head.appendChild(s)},function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=n(o(3)),i=n(o(0));class s extends HTMLElement{constructor(){super(),this.__hovered=!1,this.__focused=!1;const t=this.attachShadow({mode:"open"}),e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(r.default)),t.appendChild(e),t.appendChild(this.toolbar=document.createElement("zen-toolbar"));const o=this.createEditor();t.appendChild(o),this.onfocus=()=>this.focused=!0,this.onblur=()=>this.focused=!1,this.toolbar.addEventListener(i.default.BOLD_CLICKED_EVENT,()=>document.execCommand("bold")),this.toolbar.addEventListener(i.default.ITALIC_CLICKED_EVENT,()=>document.execCommand("italic")),this.toolbar.addEventListener(i.default.UNDERLINE_CLICKED_EVENT,()=>document.execCommand("underline")),this.toolbar.addEventListener(i.default.STRIKETHROUGH_CLICKED_EVENT,()=>document.execCommand("strikethrough"))}get hovered(){return this.__hovered}set hovered(t){this.__hovered=t,this.toggleToolbar()}get focused(){return this.__focused}set focused(t){this.__focused=t,this.toggleToolbar()}toggleToolbar(){this.hovered||this.focused?this.toolbar.setAttribute("show","true"):this.toolbar.removeAttribute("show")}createEditor(){const t=document.createElement("div");return t.classList.add("zen-editor"),t.setAttribute("contentEditable","true"),t.onmouseenter=()=>this.hovered=!0,t.onmouseleave=()=>this.hovered=!1,t.onfocus=()=>this.focused=!0,t.onblur=()=>this.focused=!1,document.onselectionchange=()=>this.selectionHandler(),t}selectionHandler(){Object.entries(this.toolbar.common).forEach(([t,e])=>e.removeAttribute("activated"));const t=document.getSelection();t&&Array.from(Array(t.rangeCount).keys()).forEach(e=>{const o=t.getRangeAt(e);let n=[];if(o.startContainer.isSameNode(o.endContainer)&&o.startContainer instanceof Text){const t=o.startContainer.textContent?o.startContainer.textContent.length:0;o.startOffset<t&&(n=this.getAncestors(o.startContainer))}else n=this.getRangeNodes(o);n.forEach(t=>{["STRONG","B"].some(e=>t.nodeName===e&&t.textContent)&&this.toolbar.common.boldButton.setAttribute("activated","true"),["EM","I"].some(e=>t.nodeName===e&&t.textContent)&&this.toolbar.common.italicButton.setAttribute("activated","true"),"U"===t.nodeName&&t.textContent&&this.toolbar.common.underlineButton.setAttribute("activated","true"),"STRIKE"===t.nodeName&&t.textContent&&this.toolbar.common.strikethroughButton.setAttribute("activated","true")})})}getAncestors(t,e=[]){return null===t.parentNode||null===this.shadowRoot||t.parentNode.isSameNode(this.shadowRoot.activeElement)?e:(e.push(t.parentNode),this.getAncestors(t.parentNode,e))}getDescendants(t,e=[]){if(t instanceof Node)return this.getDescendants(Array.from(t.childNodes),e);if(t.length<1)return e;const o=t.pop();return o&&(e.push(o),t.concat(Array.from(o.childNodes))),this.getDescendants(t,e)}getRangeNodes(t){let e=[],o=t.startContainer;for(;o;){o.isSameNode(t.startContainer)&&o.textContent&&o.textContent.length>t.startOffset&&(e=e.concat([...this.getAncestors(o),o]));const n=this.getDescendants(o);if(n.some(e=>e.isSameNode(t.endContainer))){t.endOffset>0&&(e=e.concat([...this.getAncestors(o),o,...n]));break}e=e.concat([...this.getAncestors(o),o,...n]),o=o.nextSibling}return e}}e.default=s},function(t,e,o){"use strict";o.r(e),e.default=":host{display:inline-block;min-width:200px;position:relative}:host>.zen-editor{border:1px solid rgba(0,0,0,.4)}"},function(t,e,o){"use strict";o.r(e),e.default=":host{display:flex;align-items:center;justify-content:center;position:absolute;visibility:hidden;opacity:0;height:35px;width:150px;background-color:#000;border-radius:15px;top:-40px;transition:opacity .3s ease-out}:host>button.toolbar-btn{display:flex;align-items:center;color:#fff;font-size:1em;background-color:rgba(255,255,255,0);border:0;border-radius:20px;padding:5px;margin-left:.3em}:host>button.toolbar-btn[activated]{background-color:rgba(255,255,255,.3)}:host>button.toolbar-btn:hover{background-color:rgba(255,255,255,.3)}:host>button.toolbar-btn:nth-child(1){margin-left:0}:host([show]){visibility:visible;opacity:1}"}]);